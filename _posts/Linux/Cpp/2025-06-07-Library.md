---
title: Library
categories:
   - Cpp
tags:
   - Cpp
---

### 1. 정적 링킹 (Static Linking)

> 정적 라이브러리가 링크 타임에 바인딩
>
> > 소스 오브젝트 파일과 라이브러리 오브젝트 파일이 섹션별로 합병됨

- 매 실행파일 마다 라이브러리를 포함하므로
  - 파일 크기가 커지고
  - 메모리가 낭비됨
- 라이브러리가 업데이트되면 전체파일을 다시 컴파일해야함

### 2. 동적 링킹 (Dynamic Linking)

```
[자세한 정보는 링크 참조] https://bpsecblog.wordpress.com/2016/03/09/about_got_plt_2/
```

> 하나의 라이브러리를 메모리에 올려놓고 모든 프로그램이 공유
>
> > 처음 로딩이 느린 단점 존재

-  PLT (Procedure Linkage Table)
  - 외부 프로시저(특정 작업을 수행하기 위한 함수, 루틴, 서브루틴)를 연결해주는 테이블
  - 초기 외부 프로시저 호출 시 GOT에 있는 함수들(루틴)을 통해 실제 함수의 주소를 가져옴
- GOT (Global Offset Table)
  - 프로시저 주소가 들어있으며, PLT가 참조하는 테이블.
    - 외부 프로시저를 호출부가 있으면 PLT로 연결되고 외부함수의 주소가 없다면 GOT로 점프
    - GOT에 있는 dl_resolve() 함수를 통해 외부함수의 주소를 찾아 GOT에 저장하고 이를 PLT가 가져감
    - 이후 외부함수 호출 시, GOT에 저장되어있는 주소로 바로 이동

#### 2-1. 암시적 링킹 (Implicit Linking)

- 모든 심볼들을 GOT에 등록하고 시작.

#### 2-2. 명시적 링킹 (Explicit Linking)

- 모든 외부 함수 주소를 한번에 로딩하지 않고, 호출 시점에 해당 함수의 주소를 공유 라이브러리로부터 알아오도록 설계되어있음
